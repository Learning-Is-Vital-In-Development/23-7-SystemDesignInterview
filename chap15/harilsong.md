# 15장. 구글드라이브 설계

## 문제 이해 및 설계 범위 확정

- 업로드/다운로드, 동기화, 알림
- 모바일 앱, 웹 앱 지원
- 파일 암호화
- 10GB 의 파일크기 제한
- MAU 10M

다음 기능의 설계에 집중한다.

- 파일 추가, 가장 쉬운 방법은 파일을 구글 드라이브 안으로 drag-and-drop 하는 것
- 파일 다운로드
- 파일 동기화
- 파일 갱신 이력 조회
- 파일 공유
- 파일이 편집되거나 삭제되거나 새롭게 공유되었을 때 알림 표시

기능적 요구사항 이외에, 다음의 비 기능적 요구사항을 이해하는 것도 중요하다.

- 안정성
- 빠른 동기화 속도
- 네트워크 대역폭
- 규모 확장성
- 높은 가용성

### 개략적 추정치

- 가입 사용자는 50M 명이고 천만 명의 DAU 사용자가 있다고 가정
- 모든 사용자에게 10GB 의 무료 저장공간 할당
- 매일 각 사용자가 평균 2개의 파일을 업로드한다고 가정. 각파일의 평균 크기는 500KB
- 읽기 쓰기 비율은 1:1
- 필요한 저장공간 총량 = 50M * 10GB = 500PB
- 업로드 API QPS = 1천만 사용자 * 2회 업로드/24시간/3600초 = 약 240
- 최대 QPS = QPS * 2 = 480
